{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { isFunction } from \"./isFunction.js\";\n\nconst isAsyncIterable = value => isFunction(value[Symbol.asyncIterator]);\n\nasync function* readStream(readable) {\n  const reader = readable.getReader();\n\n  while (true) {\n    const {\n      done,\n      value\n    } = await reader.read();\n\n    if (done) {\n      break;\n    }\n\n    yield value;\n  }\n}\n\nexport const getStreamIterator = source => {\n  if (isAsyncIterable(source)) {\n    return source;\n  }\n\n  if (isFunction(source.getReader)) {\n    return readStream(source);\n  }\n\n  throw new TypeError(\"Unsupported data source: Expected either ReadableStream or async iterable.\");\n};","map":{"version":3,"names":["isFunction","isAsyncIterable","value","Symbol","asyncIterator","readStream","readable","reader","getReader","done","read","getStreamIterator","source","TypeError"],"sources":["/Users/joshgoodman/Documents/GitHub/tententranslations/vuefrontend/node_modules/form-data-encoder/lib/util/getStreamIterator.js"],"sourcesContent":["import { isFunction } from \"./isFunction.js\";\nconst isAsyncIterable = (value) => (isFunction(value[Symbol.asyncIterator]));\nasync function* readStream(readable) {\n    const reader = readable.getReader();\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            break;\n        }\n        yield value;\n    }\n}\nexport const getStreamIterator = (source) => {\n    if (isAsyncIterable(source)) {\n        return source;\n    }\n    if (isFunction(source.getReader)) {\n        return readStream(source);\n    }\n    throw new TypeError(\"Unsupported data source: Expected either ReadableStream or async iterable.\");\n};\n"],"mappings":";AAAA,SAASA,UAAT,QAA2B,iBAA3B;;AACA,MAAMC,eAAe,GAAIC,KAAD,IAAYF,UAAU,CAACE,KAAK,CAACC,MAAM,CAACC,aAAR,CAAN,CAA9C;;AACA,gBAAgBC,UAAhB,CAA2BC,QAA3B,EAAqC;EACjC,MAAMC,MAAM,GAAGD,QAAQ,CAACE,SAAT,EAAf;;EACA,OAAO,IAAP,EAAa;IACT,MAAM;MAAEC,IAAF;MAAQP;IAAR,IAAkB,MAAMK,MAAM,CAACG,IAAP,EAA9B;;IACA,IAAID,IAAJ,EAAU;MACN;IACH;;IACD,MAAMP,KAAN;EACH;AACJ;;AACD,OAAO,MAAMS,iBAAiB,GAAIC,MAAD,IAAY;EACzC,IAAIX,eAAe,CAACW,MAAD,CAAnB,EAA6B;IACzB,OAAOA,MAAP;EACH;;EACD,IAAIZ,UAAU,CAACY,MAAM,CAACJ,SAAR,CAAd,EAAkC;IAC9B,OAAOH,UAAU,CAACO,MAAD,CAAjB;EACH;;EACD,MAAM,IAAIC,SAAJ,CAAc,4EAAd,CAAN;AACH,CARM"},"metadata":{},"sourceType":"module"}
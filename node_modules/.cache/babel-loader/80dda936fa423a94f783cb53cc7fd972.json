{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-137d6444\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  id: \"Browse\"\n};\nconst _hoisted_2 = [\"innerHTML\"];\nconst _hoisted_3 = {\n  id: \"top\"\n};\nconst _hoisted_4 = {\n  id: \"count\"\n};\nconst _hoisted_5 = {\n  id: \"resultCount\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"category\"\n}, \" Order By\", -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = {\n  id: \"sortButtons\"\n};\nconst _hoisted_8 = {\n  class: \"novelList\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_UtfBox = _resolveComponent(\"UtfBox\");\n\n  const _component_NovelCard = _resolveComponent(\"NovelCard\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h1\", {\n    id: \"sortCategory\",\n    innerHTML: this.$route.params.identifier ? this.$route.params.identifier : \"All Novels\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_2), _createElementVNode(\"header\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_UtfBox, {\n    shape: \"â˜…\"\n  }), _createElementVNode(\"p\", _hoisted_5, _toDisplayString($data.novelData.length) + \" RESULTS\", 1\n  /* TEXT */\n  ), _hoisted_6]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"input\", {\n    type: \"button\",\n    class: \"category\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.print(\"lastupload\")),\n    value: \"Latest\",\n    id: \"sort-lastupload\"\n  }), _createElementVNode(\"input\", {\n    type: \"button\",\n    class: \"category\",\n    onClick: _cache[1] || (_cache[1] = $event => $options.print(\"title\")),\n    value: \"A-Z\",\n    id: \"sort-title\"\n  }), _createElementVNode(\"input\", {\n    type: \"button\",\n    class: \"category\",\n    onClick: _cache[2] || (_cache[2] = $event => $options.print(\"length\")),\n    value: \"Length\",\n    id: \"sort-length\"\n  }), _createElementVNode(\"input\", {\n    type: \"button\",\n    class: \"category\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.print(\"views\")),\n    value: \"Views\",\n    id: \"sort-views\"\n  }), _createElementVNode(\"input\", {\n    type: \"button\",\n    class: \"category\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.print(\"firstupload\")),\n    value: \"New\",\n    id: \"sort-firstupload\"\n  })]), _createElementVNode(\"h6\", null, \"Page 1 of \" + _toDisplayString($data.novelData.length % 12), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.novelData.sort($options.sort), novel => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: novel.title,\n      id: \"novels\"\n    }, [_createVNode(_component_NovelCard, {\n      novelData: novel,\n      type: \"browse\"\n    }, null, 8\n    /* PROPS */\n    , [\"novelData\"])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])]);\n}","map":{"version":3,"mappings":";;;;;EACKA,EAAE,EAAG;;;;EAIEA,EAAE,EAAG;;;EACJA,EAAE,EAAG;;;EAEHA,EAAE,EAAG;;;gEACRC,oBAA2C,OAA3C,EAA2C;EAApCC,KAAK,EAAG;AAA4B,CAA3C,EAA0B,WAA1B,EAAmC;AAAA;AAAnC;;;EAGCF,EAAE,EAAG;;;EAUTE,KAAK,EAAG;;;;;;;uBArBjBC,oBA6BM,KA7BN,cA6BM,CA3BFF,oBAA+G,IAA/G,EAA+G;IAA3GD,EAAE,EAAG,cAAsG;IAAvFI,SAAqF,OAAxEC,MAAwE,CAAjEC,MAAiE,CAA1DC,UAA0D,GAAhD,KAAQF,MAAR,CAAeC,MAAf,CAAsBC,UAA0B,GAAhB;EAAkB,CAA/G;;EAAA,aA2BE,EAzBFN,oBAeS,QAfT,cAeS,CAdLA,oBAIM,KAJN,cAIM,CAHFO,aAA2BC,iBAA3B,EAA2B;IAAnBC,KAAK,EAAG;EAAW,CAA3B,CAGE,EAFFT,oBAAsD,GAAtD,cAAsDU,iBAA9BC,gBAAUC,MAAoB,IAAZ,UAA1C,EAAkD;EAAA;EAAlD,CAEE,EADFC,UACE,CAJN,CAcK,EARLb,oBAMM,KANN,cAMM,CALFA,oBAA6G,OAA7G,EAA6G;IAAtGc,IAAI,EAAC,QAAiG;IAAxFb,KAAK,EAAG,UAAgF;IAApEc,OAAK,sCAAEC,eAAK,YAAL,CAAF,CAA+D;IAAxCC,KAAK,EAAG,QAAgC;IAAvBlB,EAAE,EAAG;EAAkB,CAA7G,CAKE,EAJFC,oBAAiG,OAAjG,EAAiG;IAA1Fc,IAAI,EAAE,QAAoF;IAA3Eb,KAAK,EAAG,UAAmE;IAAvDc,OAAK,sCAAEC,eAAK,OAAL,CAAF,CAAkD;IAAhCC,KAAK,EAAG,KAAwB;IAAlBlB,EAAE,EAAG;EAAa,CAAjG,CAIE,EAHFC,oBAAsG,OAAtG,EAAsG;IAA/Fc,IAAI,EAAE,QAAyF;IAAhFb,KAAK,EAAG,UAAwE;IAA5Dc,OAAK,sCAAEC,eAAK,QAAL,CAAF,CAAuD;IAApCC,KAAK,EAAG,QAA4B;IAAnBlB,EAAE,EAAG;EAAc,CAAtG,CAGE,EAFFC,oBAAmG,OAAnG,EAAmG;IAA5Fc,IAAI,EAAE,QAAsF;IAA7Eb,KAAK,EAAG,UAAqE;IAAzDc,OAAK,sCAAEC,eAAK,OAAL,CAAF,CAAoD;IAAlCC,KAAK,EAAG,OAA0B;IAAlBlB,EAAE,EAAG;EAAa,CAAnG,CAEE,EADFC,oBAA6G,OAA7G,EAA6G;IAAtGc,IAAI,EAAE,QAAgG;IAAvFb,KAAK,EAAG,UAA+E;IAAnEc,OAAK,sCAAEC,eAAK,aAAL,CAAF,CAA8D;IAAtCC,KAAK,EAAG,KAA8B;IAAxBlB,EAAE,EAAG;EAAmB,CAA7G,CACE,CANN,CAQK,EADLC,oBAA0C,IAA1C,EAA0C,IAA1C,EAAI,eAAUU,iBAAEC,gBAAUC,MAAV,GAAgB,EAAlB,CAAd,EAAgC;EAAA;EAAhC,CACK,CAfT,CAyBE,EARFZ,oBAOM,KAPN,cAOM,oBANFE,oBAKMgB,SALN,EAKM,IALN,EAKMC,YALeR,gBAAUS,IAAV,CAAeJ,aAAf,CAKf,EALMK,KAA4B,IAAvB;yBAAjBnB,oBAKM,KALN,EAKM;MALsCoB,GAAG,EAAID,KAAK,CAACE,KAKnD;MAL0DxB,EAAE,EAAG;IAK/D,CALN,GACIQ,aAGMiB,oBAHN,EAGM;MAFDC,SAAS,EAAEJ,KAEV;MADFP,IAAI,EAAC;IACH,CAHN;;IAAA,iBADJ;GAKM,CALN;;EAAA,CAME,EAPN,CAQE,CA7BN","names":["id","_createElementVNode","class","_createElementBlock","innerHTML","$route","params","identifier","_createVNode","_component_UtfBox","shape","_toDisplayString","$data","length","_hoisted_6","type","onClick","$options","value","_Fragment","_renderList","sort","novel","key","title","_component_NovelCard","novelData"],"sourceRoot":"","sources":["/Users/joshgoodman/Documents/GitHub/tententranslations/vuefrontend/src/views/Browse.vue"],"sourcesContent":["<template>\n<div id = 'Browse' >\n\n    <h1 id = 'sortCategory' v-html='this.$route.params.identifier ? this.$route.params.identifier : \"All Novels\"'/>\n\n    <header id = 'top'>\n        <div id = 'count'>\n            <UtfBox shape = '&#9733;'/>\n            <p id = 'resultCount'>{{novelData.length}} RESULTS</p>\n            <label class = 'category'> Order By</label>\n        </div>\n\n        <div id = 'sortButtons'>\n            <input type='button' class = 'category' @click='print(\"lastupload\")' value = 'Latest' id = 'sort-lastupload'>\n            <input type ='button' class = 'category' @click='print(\"title\")' value = 'A-Z' id = 'sort-title'>\n            <input type ='button' class = 'category' @click='print(\"length\")' value = 'Length' id = 'sort-length'>\n            <input type ='button' class = 'category' @click='print(\"views\")' value = 'Views' id = 'sort-views'>\n            <input type ='button' class = 'category' @click='print(\"firstupload\")' value = 'New' id = 'sort-firstupload'>\n        </div>\n        <h6>Page 1 of {{novelData.length%12}}</h6>\n    </header>\n\n    <div class = \"novelList\">\n        <div v-for='novel in novelData.sort(sort)' :key = 'novel.title' id = 'novels'>\n            <NovelCard \n                :novelData='novel'\n                type=\"browse\"\n                />\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport { getAPI } from '../axios-api'\nimport NovelCard from '../components/NovelCard'\nimport UtfBox from '../components/UtfBox'\n    export default{\n        name: 'Browser',\n        components:{\n            NovelCard,\n            UtfBox,\n        },\n        data(){\n            return{\n            novelData:[],\n            chapterList:[],\n            attributesort:'new'\n            }\n        },\n        props:[\n            'tier'\n        ],\n        methods:{\n        sort(a,b){\n            switch (this.attributesort){\n                case 'Latest':\n                    if(Date.parse(a.lastupload) < Date.parse(b.lastupload)) { return 1; }\n                    if(Date.parse(a.lastupload) > Date.parse(b.lastupload)) { return -1; }\n                    return 0;\n                case 'alphabetical':\n                    if(a.title < b.title) { return -1; }\n                    if(a.title > b.title) { return 1; }\n                    return 0;\n                case 'length':\n                    if(a.firstChapter['chapternumber'] < b.firstChapter['chapternumber']) { return 1; }\n                    if(a.firstChapter['chapternumber'] > b.firstChapter['chapternumber']) { return -1; }\n                    return 0;\n                case 'views':\n                    const view_a = parseInt(a.views)\n                    const view_b = parseInt(b.views)\n                    if(view_a < view_b) { return 1; }\n                    if(view_a > view_b) { return -1; }\n                    return 0;\n                case 'new':\n                    if(Date.parse(a.firstupload) < Date.parse(b.firstupload)) { return 1; }\n                    if(Date.parse(a.firstupload) > Date.parse(b.firstupload)) { return -1; }\n                    return 0;\n\n            }\n\n        },\n        getNovels(){\n            var identifier = this.$route.params.identifier\n        console.log(identifier)\n        if(identifier != undefined){\n            identifier = identifier.replace(/&nbsp;/g,'|')\n        }\n        const url = '/novel/multiple?tier='+this.tier+'&category='+this.$route.params.browsetype+'&identifier='+identifier\n       getAPI.get(url)\n          .then(response => {\n            console.log('Post API has recieved data')\n            this.novelData=response.data\n            console.log(this.novelData[0])\n          })\n          .catch(err => {\n            console.log(err)\n          })\n        },\n        print(p){\n            const selected = document.getElementsByClassName('selected')\n            for(var i=0; i < selected.length; i++){\n                selected[i].classList.remove('selected')\n            }\n            document.getElementById('sort-'+p).classList.add('selected')\n            console.log(p)\n        }\n        \n    },\n    created(){\n        this.getNovels()  \n        this.$watch(\n      () => this.$route.params,\n      (toParams, previousParams) => {\n        // react to route changes...\n            if(Object.keys(previousParams).includes('browsetype') && Object.keys(toParams).length == 0){\n                this.getNovels()\n            }\n      }\n    )     \n    }\n    \n    }\n</script>\n\n<style scoped>\n#Browse{\n    width:100%;\n}\n#novels{\n    display:flex;\n    flex-direction:row;\n}\n#top{\n    display:flex;\n    flex-direction:row;\n    border-bottom:gray 2px solid;\n    margin-bottom:30px;\n    position:relative;\n    height:37px;\n    \n}\n.novelList{\n   display: grid;\n   grid-template-columns: auto auto auto auto;\n   margin:auto;\n   height:fit-content;\n    transition: all .3s ease;\n     box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2) inset , 0 6px 20px 0 rgba(0, 0, 0, 0.19) inset;\n     padding:10px;\n \n}\n#count{\n    width:275px;\n    display:flex;\n    flex-direction:row;\n   \n\n}\n#sortButtons{\n    width:400px;\n}\n.category{\n    background:none;\n    border:none;\n    color:gray;\n    position:relative;\n    margin-bottom:-3px;\n    padding-bottom:10px;\n    font-size:15px;\n    min-width:75px;\n}\ninput[type='button'].category:hover{\n    color:var(--styleColor);\n    border-bottom:4px solid var(--styleColor);\n}\n\n#sortCategory{\n    font-size:18px;\n    font-weight:bold;\n    margin-bottom:28px;\n    letter-spacing: 0.5px;\n}\n#resultCount{\n    margin-left:20px;\n    font-size:18px;\n    font-weight:600;\n    width:200px;\n}\n.selected{\n    color:var(--styleColor);\n    border-bottom:4px solid var(--styleColor);\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n    transition: all .3s ease;\n}\n@media (max-width: 1200px){\n     .novelList{\n         grid-template-columns: auto auto auto;\n    }\n    #top{\n        flex-direction:column;\n        height: 79px;\n        \n    }\n  }\n@media (max-width: 775px) {\n    .novelList{\n         grid-template-columns: auto;\n    }\n   \n}\n</style>\n"]},"metadata":{},"sourceType":"module"}
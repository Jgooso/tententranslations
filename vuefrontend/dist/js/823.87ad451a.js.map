{"version":3,"file":"js/823.87ad451a.js","mappings":"yLAEIA,EAAAA,EAAAA,GAAqE,KAAlEC,KAAO,kDAAiD,UAAM,G,yEADnEC,EAAAA,EAAAA,IAGM,YAFJC,GACAC,EAAAA,EAAAA,IAAaC,K,iCCFVC,MAAM,yC,GACLA,MAAM,gB,GACJC,GAAG,eAAeD,MAAM,mD,GACrBE,IAAI,OAAOF,MAAM,oB,yDAH5BJ,EAAAA,EAAAA,IAQM,MARN,EAQM,EAPJF,EAAAA,EAAAA,GAAmD,KAAnD,GAAmDS,EAAAA,EAAAA,IAAxBC,EAAAA,KAAK,KAACD,EAAAA,EAAAA,IAAEC,EAAAA,WAAS,IAC5CV,EAAAA,EAAAA,GAKO,OALP,EAKO,EAJHA,EAAAA,EAAAA,GAEM,MAFN,EAEM,WACNA,EAAAA,EAAAA,GAA6H,SAArHW,SAAUD,EAAAA,WAAYJ,MAAM,4BAA4BM,KAAK,SAASC,MAAM,SAAcC,QAAK,8BAAUC,EAAAA,UAAAA,EAAAA,YAAAA,IAAQ,eAAzH,c,+BAOR,GACIC,KAAK,aACLC,OACI,MAAO,CACTC,IAAI,8GACJC,YAAOC,EACPC,UAAKD,EACLE,IAAK,cACLC,UAAU,SACVC,YAAW,EACXC,IAAI,8BAEJC,QAAS,WACX,IAAIC,EAAKC,KACTD,EAAKR,OAAQU,OAAOF,EAAKT,KACzBS,EAAKN,KAAOM,EAAKR,OAAOW,WAAWC,OAAO,QAC1CJ,EAAKN,KAAKW,MAAML,EAAKM,MAAMZ,MAC3Ba,QAAQC,IAAIR,EAAKR,SAEnBiB,QAAQ,CACNC,WACE,IAAIV,EAAOC,KACXD,EAAKH,YAAW,EAChBG,EAAKR,OAAOmB,YAAYX,EAAKN,MAAMkB,MAAK,SAASC,GAC/C,GAAIA,EAAOC,MAIT,OAHAC,MAAMF,EAAOC,MAAME,SACnBhB,EAAKiB,oBACLjB,EAAKH,YAAW,GAIhBG,EAAKkB,mBAAmBL,EAAOM,MAAMvC,OAGxCwC,OAAOC,IACNd,QAAQC,IAAI,iBACZO,MAAM,UAAUM,EAAIL,SACpBhB,EAAKH,YAAW,MAGpBqB,mBAAmBI,GACjB,IAAItB,EAAKC,KACLsB,EAAI,CACJC,OAAOxB,EAAKyB,cAAczB,EAAKJ,WAC/B8B,SAAS,MACTC,YAAY,mBACZR,MAAMG,GAGNM,EAAM5B,EAAKF,IAAI,eACnB+B,IAAAA,KAAWD,EAAML,EAAI,CACjBO,QAAS,KAEVlB,MAAKmB,IACJ,GAAoB,KAAjBA,EAASC,OAKR,MAAM,IAAIC,MAAM,mBAJhBlB,MAAM,yBACNf,EAAKH,YAAW,KAKrBuB,OAAOC,IACNd,QAAQC,IAAI,gBACZO,MAAM,UAAUM,EAAIL,SACpBhB,EAAKH,YAAW,MAItB4B,cAAcS,GACZ,OAAOA,EAAIC,QAAQ,IAAI,IAAIA,QAAQ,IAAI,IAAIA,QAAQ,IAAI,O,QC9E7D,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFCA,GACIC,WAAW,CACPC,WAAUA,IGLlB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://vuefrontend/./src/views/Support.vue","webpack://vuefrontend/./src/components/StripeCard.vue","webpack://vuefrontend/./src/components/StripeCard.vue?d72d","webpack://vuefrontend/./src/views/Support.vue?1555"],"sourcesContent":["<template>\n  <div>\n    <a href = 'https://buy.stripe.com/test_7sI14ggPXa1WeEE6oo'>Donate</a>\n    <StripeCard/>\n  </div>\n</template>\n<script>\nimport StripeCard from '../components/StripeCard'\nexport default{\n    components:{\n        StripeCard\n    }\n}\n</script>","<template>\n  <div class=\"d-flex flex-column align-items-center\">\n    <h2 class=\"text-primary\">{{msg}} {{payAmount}}</h2>\n    <form id=\"payment-form\" class=\"w-75 px-5 d-flex flex-column align-items-center\" >\n        <div ref=\"card\" class=\"form-control m-2\">\n          <!-- A Stripe Element will be inserted here. -->\n        </div>\n        <input :disabled=\"lockSubmit\" class=\"btn btn-primary shadow-sm\" type=\"submit\" value=\"Donate\" v-on:click.prevent=\"purchase\" />\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n    name:'StripeCard',\n    data(){\n        return {\n      spk:\"pk_test_51L5d0fHlYhKzvWmvoTeIQZRu94xVDT6rgJC9Lp9KZxoQaTM21qa8jahwmqFTBTB4h9p6bSp2gFGdbvakV0CpMNRf00KL6sxJNJ\",\n      stripe:undefined,\n      card:undefined,\n      msg: 'Donate Here',\n      payAmount:\"$10.00\",\n      lockSubmit:false,\n      api:\"http://localhost:8000/api\"\n    }\n    },mounted: function () {\n    var self=this;\n    self.stripe= Stripe(self.spk);\n    self.card = self.stripe.elements().create('card');\n    self.card.mount(self.$refs.card);\n    console.log(self.stripe)\n  },\n  methods:{\n    purchase() {\n      var self = this;\n      self.lockSubmit=true\n      self.stripe.createToken(self.card).then(function(result) {\n        if (result.error) {\n          alert(result.error.message)\n          self.$forceUpdate(); // Forcing the DOM to update so the Stripe Element can update.\n          self.lockSubmit=false\n          return;\n        }\n        else{ \n          self.processTransaction(result.token.id)\n        }\n      })\n      .catch((err) => {\n        console.log('purchaseerror')\n        alert(\"error: \"+err.message)\n        self.lockSubmit=false\n      });\n    },\n    processTransaction(transactionToken){\n      var self=this;\n      var dt= {\n          amount:self.stripCurrency(self.payAmount), //stripe uses an int [with shifted decimal place] so we must convert our payment amount\n          currency:\"USD\",\n          description:\"something to say\",\n          token:transactionToken\n      }\n      \n      var route=self.api+\"/charge/card\"\n      axios.post(route,dt, {\n          headers: {\n          }\n      }).then(response => {\n          if(response.status==200){\n              alert(\"Transaction succeeded\")\n              self.lockSubmit=false\n          }\n          else{\n              throw new Error(\"failed donation\")\n          }\n      }).catch((err) => {\n          console.log('processerror')\n          alert(\"error: \"+err.message)\n          self.lockSubmit=false\n      });\n      \n    },\n    stripCurrency(val){\n      return val.replace(',','').replace('$','').replace('.','')\n    }\n  },\n\n}\n</script>\n\n<style>\n</style>","import { render } from \"./StripeCard.vue?vue&type=template&id=280b638e\"\nimport script from \"./StripeCard.vue?vue&type=script&lang=js\"\nexport * from \"./StripeCard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/joshgoodman/Documents/GitHub/tententranslations/vuefrontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Support.vue?vue&type=template&id=5a39b420\"\nimport script from \"./Support.vue?vue&type=script&lang=js\"\nexport * from \"./Support.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/joshgoodman/Documents/GitHub/tententranslations/vuefrontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","href","_createElementBlock","_hoisted_1","_createVNode","_component_StripeCard","class","id","ref","_toDisplayString","$data","disabled","type","value","onClick","$options","name","data","spk","stripe","undefined","card","msg","payAmount","lockSubmit","api","mounted","self","this","Stripe","elements","create","mount","$refs","console","log","methods","purchase","createToken","then","result","error","alert","message","$forceUpdate","processTransaction","token","catch","err","transactionToken","dt","amount","stripCurrency","currency","description","route","axios","headers","response","status","Error","val","replace","__exports__","components","StripeCard","render"],"sourceRoot":""}
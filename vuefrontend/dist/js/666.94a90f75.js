"use strict";(self["webpackChunkvuefrontend"]=self["webpackChunkvuefrontend"]||[]).push([[666],{8826:function(e,t,n){n.d(t,{Z:function(){return m}});var l=n(3396);const o=e=>((0,l.dD)("data-v-ff85eaa4"),e=e(),(0,l.Cn)(),e),a={id:"control-bar"},s={class:"control-buttons-container",selectable:"false"},i=o((()=>(0,l._)("br",null,null,-1))),c=o((()=>(0,l._)("br",null,null,-1))),r={id:"navigation"},d=o((()=>(0,l._)("p",{id:"selected-chapter"},"223 - Later Story",-1)));function h(e,t,n,o,h,u){const p=(0,l.up)("NavButton");return(0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("div",s,[(0,l._)("button",{class:"controlbuttons",onClick:t[0]||(t[0]=e=>u.changeFontSize(1))},"＋"),(0,l._)("button",{class:"controlbuttons",onClick:t[1]||(t[1]=e=>u.changeFontSize(-1))},"－"),(0,l._)("button",{class:"controlbuttons",onClick:t[2]||(t[2]=e=>u.switchdarkmode())},"◐")]),i,c,(0,l._)("div",r,[d,(0,l.Wm)(p,{previous:1!=this.$route.params.chapter,next:this.$route.params.chapter<n.chapterList.length,onMove:t[3]||(t[3]=t=>e.moveChapters(t)),id:"NavButtons"},null,8,["previous","next"])])])}var u=n(7541),p={name:"ChapterSelector",props:["chapterList"],date(){return{darkmode:""}},components:{NavButton:u.Z},methods:{selectChapter(){const e=document.getElementById("myselect").value;this.$router.push({name:"chapterPage",params:{title:this.$route.params.title,chapter:e}})},changeFontSize(e){const t=document.getElementById("chapter-content"),n=parseInt(getComputedStyle(t).getPropertyValue("font-size").slice(0,2))+e;n>6&&(t.style.fontSize=n+"px",$cookies.set("font-size",n+"px"))},switchdarkmode(){this.$emit("switchmode")},handleClick(e){var t=document.getElementById("custom-select");t.contains(e.target)?t.style.backgroundColor="white":t.style.backgroundColor="red"}},mounted(){const e=document.getElementById("chapter-content");document.addEventListener("click",this.handleClick);try{e.style.fontSize=$cookies.get("font-size"),console.log($cookies.get("font-size"))}catch{console.log("no cookies"),$cookies.set("font-size","19px"),e.style.fontSize="19px"}}},g=n(89);const v=(0,g.Z)(p,[["render",h],["__scopeId","data-v-ff85eaa4"]]);var m=v},8514:function(e,t,n){n.d(t,{Z:function(){return h}});var l=n(3396),o=n(7139);const a={id:"genres"},s=["value","name","checked","onClick"];function i(e,t,n,i,c,r){return(0,l.wg)(),(0,l.iD)("div",a,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.genres.length,((e,t)=>((0,l.wg)(),(0,l.iD)("label",{key:t},[(0,l._)("input",{type:"checkbox",value:n.genres[t],name:"genre"+t,class:"genrecheckbox",checked:n.selectedgenres.includes(n.genres[t]),onClick:e=>r.changeGenre(n.genres[t])},null,8,s),(0,l.Uk)((0,o.zw)(n.genres[t]),1)])))),128))])}var c={name:"GenreSelector",props:["genres","selectedgenres"],methods:{changeGenre(e){if(this.selectedgenres.includes(e))for(var t=0;t<this.selectedgenres.length;t++)this.selectedgenres[t]===e&&(this.selectedgenres.splice(t,1),t--);else this.selectedgenres.push(e)}}},r=n(89);const d=(0,r.Z)(c,[["render",i],["__scopeId","data-v-b6809f84"]]);var h=d},7541:function(e,t,n){n.d(t,{Z:function(){return r}});var l=n(3396);const o={id:"MoveButton"};function a(e,t,n,a,s,i){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",o,[n.previous?((0,l.wg)(),(0,l.iD)("button",{key:0,onClick:t[0]||(t[0]=e=>i.go(this.$route.params.chapter-1))},"← Prev")):(0,l.kq)("",!0),n.next?((0,l.wg)(),(0,l.iD)("button",{key:1,onClick:t[1]||(t[1]=e=>i.go(parseInt(this.$route.params.chapter)+1))},"Next →")):(0,l.kq)("",!0)])])}var s={name:"NavButton",props:["first","last","previous","next"],methods:{go(e){this.$router.push({name:"chapterPage",params:{title:this.$route.params.title,chapter:e}})}}},i=n(89);const c=(0,i.Z)(s,[["render",a],["__scopeId","data-v-dc2180d8"]]);var r=c},2575:function(e,t,n){n.d(t,{Z:function(){return C}});var l=n(3396);const o={for:"tagfilter"},a=(0,l.Uk)("Filter "),s={id:"tagList"},i={class:"selectedtaglist"},c={id:"tagselector"},r=["id"],d=["value","name","onChange"],h=["innerHTML"];function u(e,t,n,u,p,g){const v=(0,l.up)("tagBox");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("label",o,[a,(0,l._)("input",{type:"text",id:"tagfilter",onKeyup:t[0]||(t[0]=e=>g.filterTag()),onFocusin:t[1]||(t[1]=e=>g.showtags())},null,32)]),(0,l._)("div",s,[(0,l._)("ul",i,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.selectedtags,(e=>((0,l.wg)(),(0,l.iD)("li",{key:e},[(0,l.Wm)(v,{tag:e,onRemove:g.removeTag},null,8,["tag","onRemove"])])))),128))]),(0,l._)("div",c,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.tags.length,(e=>((0,l.wg)(),(0,l.iD)("label",{key:e,class:"tagbutton unselected",id:n.tags[e]},[(0,l._)("input",{type:"checkbox",value:n.tags[e],name:"tag"+e,onChange:t=>g.addTag(n.tags[e])},null,40,d),(0,l._)("p",{innerHTML:n.tags[e]},null,8,h)],8,r)))),128))])])])}const p={class:"tagBox"},g=["innerHTML"];function v(e,t,n,o,a,s){return(0,l.wg)(),(0,l.iD)("div",p,[(0,l._)("p",{innerHTML:n.tag},null,8,g),(0,l._)("button",{onClick:t[0]||(t[0]=e=>s.remove())},"x")])}var m={name:"tagBox",props:["tag"],methods:{remove(){console.log(this.tag),this.$emit("remove",this.tag)}}},y=n(89);const _=(0,y.Z)(m,[["render",v],["__scopeId","data-v-eb760552"]]);var f=_,b={name:"TagSelector",props:["tags","selectedtags"],components:{tagBox:f},methods:{addTag(e){console.log(e);const t=document.getElementById(e);t.classList.remove("unselected");const n=e.replace(/[0-9]/g,"");this.selectedtags.includes(n)||this.selectedtags.push(n),console.log(this.selectedtags)},removeTag(e){const t=this.selectedtags.indexOf(e);this.selectedtags.splice(t-1,1),console.log(this.selectedtags),document.getElementById(e).classList.add("unselected")},filterTag(){var e,t,n;e=document.getElementById("tagfilter").value.toUpperCase(),t=document.getElementsByClassName("tagbutton");for(var l=0;l<t.length;l++)n=t[l].value||t[l].innerText,n.toUpperCase().indexOf(e)>-1?t[l].style.display="":t[l].style.display="none"},showtags(){document.getElementById("tagselector").style.display="flex"},hidetags(){document.getElementById("tagselector").style.display="none"}}};const k=(0,y.Z)(b,[["render",u],["__scopeId","data-v-dcdf9474"]]);var C=k},881:function(e,t,n){n.d(t,{Z:function(){return u}});var l=n(3396);const o=e=>((0,l.dD)("data-v-3eb7aad7"),e=e(),(0,l.Cn)(),e),a={id:"box"},s=["innerHTML"],i=o((()=>(0,l._)("h3",{id:"point"},"◆",-1)));function c(e,t,n,o,c,r){return(0,l.wg)(),(0,l.iD)("div",a,[(0,l._)("h3",{id:"star",innerHTML:n.shape},null,8,s),i])}var r={name:"UtfBox",props:["shape"]},d=n(89);const h=(0,d.Z)(r,[["render",c],["__scopeId","data-v-3eb7aad7"]]);var u=h},5666:function(e,t,n){n.r(t),n.d(t,{default:function(){return ke}});var l=n(3396),o=n(7139);const a=e=>((0,l.dD)("data-v-31bb0728"),e=e(),(0,l.Cn)(),e),s={id:"editPage"},i={id:"confirmationBox"},c={style:{margin:"auto"}},r={style:{display:"flex","flex-direction":"row",margin:"auto",width:"220px"}},d=["value"],h={id:"cover",ref:"cover"},u={key:0},p=["textContent"],g={id:"inner"},v={id:"novel-information"},m={id:"data"},y=a((()=>(0,l._)("td",null,"Author",-1))),_={class:"info"},f=a((()=>(0,l._)("td",null,"URL",-1))),b={class:"info"},k=["href"],C=a((()=>(0,l._)("td",null,"Genres",-1))),w={class:"category"},x=a((()=>(0,l._)("td",null,"Tags",-1))),D={class:"category"},B=a((()=>(0,l._)("td",null,"Raw Status",-1))),E={class:"info"},I=["selected"],T=a((()=>(0,l._)("option",{value:"Ongoing"},"Ongoing",-1))),L=a((()=>(0,l._)("option",{value:"Completed"},"Completed",-1))),z=a((()=>(0,l._)("option",{value:"On Hold"},"On Hold",-1))),H=a((()=>(0,l._)("option",{value:"Dropped"},"Dropped",-1))),S=[T,L,z,H],M=a((()=>(0,l._)("td",null,"Novel Active",-1))),N={id:"genre-selector"},Z=a((()=>(0,l._)("button",{style:{"background-color":"red","font-weight":"bold"}},"DELETE",-1))),K={id:"summary"},U={key:0},$={style:{display:"flex","flex-direction":"row","border-bottom":"2px lightgray solid",height:"30px"}},G=a((()=>(0,l._)("h3",{id:"divider"},"SUMMARY",-1))),P=a((()=>(0,l._)("br",null,null,-1))),A=["innerHTML"],O={style:{display:"flex","flex-direction":"row","border-bottom":"2px lightgray solid",height:"30px"}},Y=a((()=>(0,l._)("h3",{id:"divider"},"CHAPTERS",-1))),R=a((()=>(0,l._)("br",null,null,-1))),W={id:"TableOfContents"},q={id:"table",ref:"tableofcontentlist"},F=a((()=>(0,l._)("tr",{class:"table-list"},[(0,l._)("td",{class:"chapter-title"},"Chapter Title"),(0,l._)("td",{class:"chapter-check-box",style:{"font-size":"15px"}},"Edited"),(0,l._)("td",{class:"chapter-check-box",style:{"font-size":"15px"}},"Uploaded"),(0,l._)("td",{style:{"font-size":"15px"}},"Upload Date")],-1))),X={style:{display:"flex","flex-direction":"column"}},V=["innerHTML","id"],j={style:{width:"100%"}},J=["id"],Q={class:"chapter-title"},ee=["value","onClick"],te=["onClick"],ne=["onClick"],le={key:2,style:{color:"lightgreen"},class:"chapter-check-box"},oe={key:3,style:{color:"red"},class:"chapter-check-box"},ae=["id","value","onChange"],se={id:"chapterEditor"},ie={key:0},ce=(0,l.Uk)("← "),re={key:1},de={contenteditable:"True",id:"chapter-title"},he=["textContent"];function ue(e,t,n,a,T,L){const z=(0,l.up)("GenreSelector"),H=(0,l.up)("TagSelector"),ue=(0,l.up)("UtfBox");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",i,[(0,l._)("h1",c,(0,o.zw)(0==T.novelData.novelactive?"Confirm Activate Novel":"Confirm Deactivate Novel"),1),(0,l._)("div",r,[(0,l._)("button",{onClick:t[0]||(t[0]=e=>L.confirm(2)),class:"confirmation-button"},"Confirm"),(0,l._)("button",{onClick:t[1]||(t[1]=e=>L.confirm(1)),class:"confirmation-button"},"Cancel")])]),(0,l._)("select",{id:"novel-selector",onChange:t[2]||(t[2]=e=>L.selectNovel())},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(T.novelList,(e=>((0,l.wg)(),(0,l.iD)("option",{value:e.novelid},(0,o.zw)(e.title)+" "+(0,o.zw)(100*e.completed_percentage)+"%",9,d)))),256))],32),(0,l._)("div",h,[T.novelData.title?((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("p",{id:"noveltitle",textContent:(0,o.zw)(T.novelData.title),contenteditable:"true"},null,8,p),(0,l._)("div",g,[(0,l._)("div",v,[(0,l._)("div",m,[(0,l._)("table",null,[(0,l._)("tr",null,[y,(0,l._)("td",_,(0,o.zw)(T.novelData.author),1)]),(0,l._)("tr",null,[f,(0,l._)("td",b,[(0,l._)("a",{href:T.novelData.url,class:"selectable"},(0,o.zw)(T.novelData.url),9,k)])]),(0,l._)("tr",null,[C,(0,l._)("td",w,[(0,l._)("button",{class:"show",onClick:t[3]||(t[3]=e=>L.showGenres())},"Show")])]),(0,l._)("tr",null,[x,(0,l._)("td",D,[(0,l._)("button",{class:"show",onClick:t[4]||(t[4]=e=>L.showTags())},"Show")])])]),(0,l._)("table",null,[(0,l._)("tr",null,[B,(0,l._)("td",E,[(0,l._)("select",{id:"completedEdit",selected:e.value=T.novelData.novelstatus},S,8,I)])]),(0,l._)("tr",null,[M,(0,l._)("td",null,[(0,l._)("button",{onClick:t[5]||(t[5]=e=>L.confirm(0))},(0,o.zw)(0==T.novelData.novelactive?"Activate Novel":"Deactivate Novel"),1)])])])]),(0,l._)("div",N,[(0,l.Wm)(z,{genres:T.genres,selectedgenres:T.novelData.genres},null,8,["genres","selectedgenres"])]),(0,l.Wm)(H,{tags:T.tags,selectedtags:T.novelData.tags,id:"tag-selector"},null,8,["tags","selectedtags"])]),Z]),(0,l._)("div",K,[T.novelData.title?((0,l.wg)(),(0,l.iD)("div",U,[(0,l._)("div",$,[(0,l.Wm)(ue,{shape:"★"}),G]),P,(0,l._)("p",{id:"noveldescription",innerHTML:T.novelData.description,contenteditable:"true"},null,8,A)])):(0,l.kq)("",!0)]),(0,l._)("div",O,[(0,l.Wm)(ue,{shape:"★"}),Y]),R,(0,l._)("div",W,[(0,l._)("table",q,[F,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(T.sectionList,(e=>((0,l.wg)(),(0,l.iD)("tr",X,[e.title?((0,l.wg)(),(0,l.iD)("p",{key:0,class:"section",innerHTML:e.title,id:"section"+e.section,contenteditable:"True"},null,8,V)):(0,l.kq)("",!0),(0,l._)("tr",j,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(T.chapterList.filter((t=>t.section==e.section)),(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.chapternumber,class:"table-list",id:"chapter"+e.chapternumber},[(0,l._)("td",Q,[(0,l._)("label",null,[(0,l.Uk)((0,o.zw)(e.title)+" ",1),(0,l._)("input",{type:"button",class:"chapter-list",value:e.chapternumber,onClick:t=>L.displayChapter(e)},null,8,ee)])]),1==e.chapteredited?((0,l.wg)(),(0,l.iD)("td",{key:0,style:{color:"lightgreen"},class:"chapter-check-box edited-check",onClick:t=>L.chapteredit(e)},"✓",8,te)):((0,l.wg)(),(0,l.iD)("td",{key:1,style:{color:"red"},class:"chapter-check-box edited-check",onClick:t=>L.chapteredit(e)},"X",8,ne)),1==e.chapteractive?((0,l.wg)(),(0,l.iD)("td",le,"✓")):((0,l.wg)(),(0,l.iD)("td",oe,"X")),(0,l._)("td",null,[(0,l._)("input",{type:"datetime-local",id:"date"+e.chapterorder,value:e.uploaddate,onChange:t=>L.changeupload(e),min:"2023-01-01T00:00",style:{width:"fit-content","margin-right":"20px"}},null,40,ae)])],8,J)))),128))])])))),256))],512),(0,l._)("div",se,[T.saved?((0,l.wg)(),(0,l.iD)("label",ie,[ce,(0,l._)("input",{type:"button",id:"back-button",onClick:t[6]||(t[6]=e=>L.hideChapter())})])):((0,l.wg)(),(0,l.iD)("p",re," Unsaved Changes")),(0,l._)("h3",de,(0,o.zw)(T.chapterTitle),1),(0,l._)("textarea",{textContent:(0,o.zw)(T.chapterContent),id:"chapter-content"},null,8,he)])])])):(0,l.kq)("",!0)],512),(0,l._)("button",{onClick:t[7]||(t[7]=e=>L.submit())},"Submit")])}var pe=n(5992),ge=n(8514),ve=n(2575),me=n(8826),ye=n(881),_e={data(){return{selectednovel:"",novelList:[],novelData:[],tags:[],genres:[],chapterList:[],sectionList:[],chapterContent:"",currentChapter:"",saved:"",chapterTitle:""}},components:{GenreSelector:ge.Z,TagSelector:ve.Z,ChapterSelector:me.Z,UtfBox:ye.Z},methods:{confirm(e){var t=document.getElementById("confirmationBox");0==e?t.style.display="flex":1==e?t.style.display="none":2==e&&(1==this.novelData.novelactive?this.novelData.novelactive=0:this.novelData.novelactive=1,t.style.display="none")},selectNovel(e){this.selectednovel=e||document.getElementById("novel-selector").value;const t="/novel/single?novel="+this.selectednovel+"&tier=0&edit=True";pe.K.get(t).then((e=>{console.log("Post Novel has recieved data"),this.novelData=e.data["Novel"];const t=e.data["Chapters"].filter((e=>0==e.chapternumber));t.length>0?this.sectionList=t:this.sectionList=[{section:0}],this.chapterList=e.data["Chapters"].filter((e=>0!=e.chapternumber)),this.genres=e.data["Genres"],this.tags=e.data["Tags"],this.currentChapter=null,this.chapterContent="",console.log(this.novelData)})).catch((e=>{console.log(e)})),this.saved=!0,this.hideChapter()},submit(){const e=document.getElementById("loadingscreen");e.style.display="block";const t=document.getElementsByClassName("genrecheckbox");var n=[];console.log(this.novelData.id);for(var l=0;l<t.length;l++)1==t[l].checked&&n.push(t[l].value);this.novelData.novelstatus=document.getElementById("completedEdit").value,this.novelData.description=document.getElementById("noveldescription").innerHTML,this.novelData.title=document.getElementById("noveltitle").innerHTML;const o="/novel/single?novel="+this.novelData.novelid;pe.K.put(o,{novelData:this.novelData,tags:this.novelData.tags,genres:n}).then((function(t){console.log(t),e.style.display="none"})).catch((function(t){console.log(t),e.style.display="none"}))},showGenres(){var e=document.getElementById("genre-selector");"flex"==e.style.display?e.style.display="none":e.style.display="flex"},showTags(){var e=document.getElementById("tag-selector");"flex"==e.style.display?e.style.display="none":e.style.display="flex"},save(e){"s"!=e.key&&(this.saved=!1),e.ctrlKey&&"s"===e.key&&(this.currentChapter.content=document.getElementById("chapter-content").value,this.currentChapter.title=document.getElementById("chapter-title").innerHTML,this.saved=!0,pe.K.put("chapter?novel="+this.currentChapter.novelid+"&chapter="+this.currentChapter.chapternumber,{title:this.currentChapter.title,content:this.currentChapter.content}).then((e=>{console.log(this.currentChapter)})).catch((e=>{console.log(e)})))},displayChapter(e){console.log(e),document.getElementById("chapterEditor").style.left="0px",document.getElementById("chapterEditor").style.width="100%",document.getElementById("table").style.width="0px",document.getElementById("chapter-content").addEventListener("keydown",this.save,!1);const t="/chapter?novel="+e.novelid+"&chapter="+e.chapternumber;pe.K.get(t).then((t=>{console.log("Chapter API has recieved data"),this.chapterContent=t.data["content"],this.currentChapter=e,this.chapterTitle=t.data["title"]})).catch((e=>{console.log(e)}))},hideChapter(){if(1==this.saved){var e=document.getElementById("chapterEditor");e.style.left="100%",e.style.width="0px",this.chapterContent="",document.getElementById("table").style.width="100%",document.getElementById("chapter-content").removeEventListener("keyup",this.save)}},chapteredit(e){0==e.chapteredited?e.chapteredited=1:e.chapteredited=0,console.log(e);const t="/chaptereditchange?edit="+e.chapteredited+"&novel="+e.novelid+"&chapter="+e.chapterorder;pe.K.put(t).then((e=>{console.log("sent")})).catch((e=>{console.log(e)}))},changeupload(e){const t=document.getElementById("date"+e.chapterorder).value,n="/chapteruploadchange?novel="+e.novelid+"&chapter="+e.chapterorder;console.log(t),pe.K.put(n,{date:t}).then((e=>{console.log("send")})).catch((e=>{console.log(e)}))}},created(){pe.K.get("/noveltitles").then((e=>{console.log("Chapter API has recieved data"),this.novelList=e.data,this.selectNovel(this.novelList[0].novelid)})).catch((e=>{console.log(e)}))},mounted(){}},fe=n(89);const be=(0,fe.Z)(_e,[["render",ue],["__scopeId","data-v-31bb0728"]]);var ke=be}}]);
//# sourceMappingURL=666.94a90f75.js.map
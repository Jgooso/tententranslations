{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { getAPI } from '../axios-api';\nimport NovelCard from '../components/NovelCard';\nimport UtfBox from '../components/UtfBox';\nexport default {\n  name: 'Browser',\n  components: {\n    NovelCard,\n    UtfBox\n  },\n\n  data() {\n    return {\n      novelData: [],\n      chapterList: [],\n      attributesort: 'latest'\n    };\n  },\n\n  methods: {\n    slugify(text) {\n      return text.normalize('NFKD').replace(/[^a-zA-Z0-9 ]/g, \"\") //remove nonletter chars             \n      .trim().replace(/\\s+/g, '-'); //replace - with space \n    },\n\n    contains(novel) {\n      if (!this.$route.params.browsetype) {\n        return true;\n      }\n\n      const identifier = this.$route.params.identifier;\n\n      if (this.$route.params.browsetype.includes('author')) {\n        return novel.author == identifier;\n      } else if (this.$route.params.browsetype.includes('tag')) {\n        return novel.tags.includes(identifier);\n      } else if (this.$route.params.browsetype.includes('genre')) {\n        return novel.genres.includes(identifier);\n      } else {\n        return true;\n      }\n    },\n\n    sort(a, b) {\n      switch (this.attributesort) {\n        case 'latest':\n          if (a.last_updated < b.last_updated) {\n            return 1;\n          }\n\n          if (a.last_updated > b.last_updated) {\n            return -1;\n          }\n\n          return 0;\n\n        case 'alphabetical':\n          if (a.title < b.title) {\n            return -1;\n          }\n\n          if (a.title > b.title) {\n            return 1;\n          }\n\n          return 0;\n\n        case 'length':\n          if (a.firstchapter.chapterNumber < b.firstchapter.chapterNumber) {\n            return 1;\n          }\n\n          if (a.firstchapter.chapterNumber > b.firstchapter.chapterNumber) {\n            return -1;\n          }\n\n          return 0;\n\n        case 'views':\n          if (a.views < b.views) {\n            return 1;\n          }\n\n          if (a.views > b.views) {\n            return -1;\n          }\n\n          return 0;\n\n        case 'new':\n          if (a.first_release < b.first_release) {\n            return 1;\n          }\n\n          if (a.first_release > b.first_release) {\n            return -1;\n          }\n\n          return 0;\n      }\n    }\n\n  },\n\n  created() {\n    getAPI.get('/novels/?tier=5').then(response => {\n      console.log('Post API has recieved data');\n      this.novelData = response.data['Novel'];\n      this.chapterList = response.data['Chapter'];\n\n      for (let i = 0; i < this.novelData.length; i++) {\n        var novel = this.novelData[i];\n        novel['firstchapter'] = this.chapterList.filter(chapter => chapter.novel == novel.id)[1];\n        novel['secondchapter'] = this.chapterList.filter(chapter => chapter.novel == novel.id)[0];\n      }\n\n      console.log(this.attributesort);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n};","map":{"version":3,"mappings":"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","names":["getAPI","NovelCard","UtfBox","name","components","data","novelData","chapterList","attributesort","methods","slugify","text","normalize","replace","trim","contains","novel","$route","params","browsetype","identifier","includes","author","tags","genres","sort","a","b","last_updated","title","firstchapter","chapterNumber","views","first_release","created","get","then","response","console","log","i","length","filter","chapter","id","catch","err"],"sourceRoot":"","sources":["/Users/joshgoodman/Documents/GitHub/tententranslations/vuefrontend/src/views/Browse.vue"],"sourcesContent":["<template>\n<div class = 'content' >\n    <br>\n    <p id = 'sortCategory'>{{ this.$route.params.identifier ? this.$route.params.identifier : 'All Novels' }}</p>\n    <div id = 'top'>\n        <div id = 'count'>\n            <UtfBox shape = '&#9733;'/>\n            <p id = 'resultCount'>{{novelData.filter(contains).length}} RESULTS</p>\n            <label class = 'category'> Order By</label>\n        </div>\n        <div id = 'sortButtons'>\n            <button class = 'category' @click='attributesort=\"latest\"'>Latest</button>\n            <button class = 'category' @click='attributesort=\"alphabetical\"'>A-Z</button>\n            <button class = 'category' @click='attributesort=\"length\"'>Length</button>\n            <button class = 'category' @click='attributesort=\"views\"'>Most Views</button>\n            <button class = 'category' @click='attributesort=\"new\"'>New</button>\n        </div>\n    </div>\n    <div class = \"novelList\">\n        <div v-for='novel in novelData.filter(contains).sort(sort)' :key = 'novel.title' id = 'novels'>\n            <NovelCard :novelData='novel'/>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport { getAPI } from '../axios-api'\nimport NovelCard from '../components/NovelCard'\nimport UtfBox from '../components/UtfBox'\n    export default{\n        name: 'Browser',\n        components:{\n            NovelCard,\n            UtfBox,\n        },\n        data(){\n            return{\n            novelData:[],\n            chapterList:[],\n            attributesort:'latest'\n            }\n        },\n        methods:{\n            slugify(text) {\n            return text          \n                .normalize('NFKD')            \n                .replace(/[^a-zA-Z0-9 ]/g, \"\")//remove nonletter chars             \n                .trim()                                  \n                .replace(/\\s+/g, '-')//replace - with space \n            },\n            contains(novel){\n                if(!this.$route.params.browsetype){\n                    return true\n                }\n                const identifier = this.$route.params.identifier;\n                if(this.$route.params.browsetype.includes('author')){\n                    return novel.author==identifier;\n                }else if(this.$route.params.browsetype.includes('tag')){\n                    return novel.tags.includes(identifier);\n                }\n                else if(this.$route.params.browsetype.includes('genre')){\n                    return novel.genres.includes(identifier);\n            }else{\n                return true\n            }\n        },\n        sort(a,b){\n            switch (this.attributesort){\n                case 'latest':\n                    if(a.last_updated < b.last_updated) { return 1; }\n                    if(a.last_updated > b.last_updated) { return -1; }\n                    return 0;\n                case 'alphabetical':\n                    if(a.title < b.title) { return -1; }\n                    if(a.title > b.title) { return 1; }\n                    return 0;\n                case 'length':\n                    if(a.firstchapter.chapterNumber < b.firstchapter.chapterNumber) { return 1; }\n                    if(a.firstchapter.chapterNumber > b.firstchapter.chapterNumber) { return -1; }\n                    return 0;\n                case 'views':\n                    if(a.views < b.views) { return 1; }\n                    if(a.views > b.views) { return -1; }\n                    return 0;\n                case 'new':\n                    if(a.first_release < b.first_release) { return 1; }\n                    if(a.first_release > b.first_release) { return -1; }\n                    return 0;\n\n            }\n\n        }\n        \n    },\n    created(){\n       getAPI.get('/novels/?tier=5')\n          .then(response => {\n            console.log('Post API has recieved data')\n        this.novelData=response.data['Novel']\n        this.chapterList=response.data['Chapter']\n        for (let i = 0; i < this.novelData.length; i++) { \n            var novel=this.novelData[i]\n            novel['firstchapter']=this.chapterList.filter(chapter => chapter.novel==novel.id)[1]\n            novel['secondchapter']=this.chapterList.filter(chapter => chapter.novel==novel.id)[0]\n        }\n        console.log(this.attributesort)\n          })\n          .catch(err => {\n            console.log(err)\n          })\n         \n    }\n    \n    }\n</script>\n\n<style scoped>\n#novels{\n    display:flex;\n    flex-direction:row;\n}\n#top{\n    display:flex;\n    flex-direction:row;\n    border-bottom:gray 2px solid;\n    margin-bottom:30px;\n    position:relative;\n    height:37px;\n}\n.novelList{\n   display: grid;\n   grid-template-columns: auto auto auto auto;\n   margin:auto;\n   height:fit-content;\n \n}\n#count{\n    width:275px;\n    display:flex;\n    flex-direction:row;\n   \n\n}\n#sortButtons{\n    width:400px;\n}\n.category{\n    background:none;\n    border:none;\n    color:gray;\n    position:relative;\n    margin-bottom:-3px;\n    padding-bottom:10px;\n    font-size:15px;\n    min-width:75px;\n}\nbutton.category:hover{\n    color:purple;\n    border-bottom:4px solid purple;\n}\n\nbutton.category:focus{\n    color:purple;\n    border-bottom:4px solid purple;\n   outline: none;\n    }\n#sortCategory{\n    font-size:18px;\n    font-weight:bold;\n    margin-bottom:28px;\n    letter-spacing: 0.5px;\n}\n#resultCount{\n    margin-left:20px;\n    font-size:18px;\n    font-weight:600;\n    width:200px;\n}\n\n@media (max-width: 1200px){\n     .novelList{\n         grid-template-columns: auto auto auto;\n    }\n    #top{\n        flex-direction:column;\n        height: 79px;\n    }\n  }\n@media (max-width: 775px) {\n    .novelList{\n         grid-template-columns: auto;\n    }\n   \n}\n</style>\n"]},"metadata":{},"sourceType":"module"}
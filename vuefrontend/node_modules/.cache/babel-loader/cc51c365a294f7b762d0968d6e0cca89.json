{"ast":null,"code":"import { getAPI } from '../axios-api';\nimport Calender from '../components/Calender';\nexport default {\n  name: 'Schedular',\n\n  data() {\n    return {\n      scheduleList: [],\n      novels: [],\n      novel: []\n    };\n  },\n\n  components: {\n    Calender\n  },\n  methods: {\n    timeConverter(time) {\n      var convertedTime = parseInt(time);\n\n      if (convertedTime % 12 == convertedTime) {\n        convertedTime = (convertedTime %= 12).toString() + ':00 AM';\n      } else {\n        convertedTime = (convertedTime %= 12).toString() + ':00 PM';\n      }\n\n      return convertedTime;\n    },\n\n    selectNovel(a) {\n      if (a) {\n        this.novel = a;\n      } else {\n        this.novel = document.getElementById(\"novel-selector\").value;\n      }\n\n      console.log(this.novel);\n      getAPI.get('/schedule?novel=' + this.novel).then(response => {\n        console.log('Schedule API has recieved data');\n        console.log(response);\n        this.scheduleList = response.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    showCreator() {\n      document.getElementById('schedule-creator').style.display = 'flex';\n    },\n\n    submit() {\n      const time = document.getElementById('appt').value;\n      console.log(time);\n      console.log(this.novel);\n      const dates = document.getElementsByClassName('date-selector');\n      var selecteddates = [];\n      console.log(dates.length);\n\n      for (var i = 0; i < dates.length; i++) {\n        if (dates[i].checked == true) {\n          selecteddates.push(dates[i].value);\n        }\n      }\n\n      console.log(selecteddates);\n      getAPI.post('/schedule', {\n        novel: this.novel,\n        time: time,\n        dates: selecteddates\n      }).then(function (response) {\n        console.log(response);\n      }).catch(function (error) {\n        console.log(error);\n      });\n      console.log('what');\n      document.getElementById('schedule-creator').style.display = 'none';\n    }\n\n  },\n\n  created() {\n    getAPI.get('/noveltitles').then(response => {\n      console.log('Chapter API has recieved data');\n      this.novels = response.data;\n      console.log(this.novels[0].novelid);\n      this.selectNovel(this.novels[0].novelid);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n};","map":{"version":3,"mappings":"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","names":["getAPI","Calender","name","data","scheduleList","novels","novel","components","methods","timeConverter","time","convertedTime","parseInt","toString","selectNovel","a","document","getElementById","value","console","log","get","then","response","catch","err","showCreator","style","display","submit","dates","getElementsByClassName","selecteddates","length","i","checked","push","post","error","created","novelid"],"sourceRoot":"","sources":["/Users/joshgoodman/Documents/GitHub/tententranslations/vuefrontend/src/views/Schedular.vue"],"sourcesContent":["<template>\n<div class = 'schedular'>\n<button @click='showCreator()'>New</button>\n<select id = 'novel-selector' @change=\"selectNovel()\">\n<option v-for='novel in novels' :value='novel.novelid'>{{novel.title}}</option>\n</select>\n\n<ul>\n\n<li v-for='(scheduleDay,day) in scheduleList' :key='day'>\n{{day}}\n<ul>\n    <li v-for='schedule in scheduleDay' :key='schedule.day+schedule.time'>\n        <div>\n            {{timeConverter(schedule.time)}}\n            {{schedule.title}}\n        </div>\n    </li>\n    </ul>\n</li>\n</ul>\n\n<div id = 'schedule-creator'>\n<div id = 'schedule-creator-selector'>\n<input type='time' id=\"appt\" name=\"appt\"\n       min=\"8:00\" max=\"20:00\" required>\n</div>\n<label><input type = 'checkbox' value = 'Sunday' class = 'date-selector'>Sunday</label>\n<label><input type = 'checkbox' value = 'Monday' class = 'date-selector'>Monday</label>\n<label><input type = 'checkbox' value = 'Tuesday' class = 'date-selector'>Tuesday</label>\n<label><input type = 'checkbox' value = 'Wednesday' class = 'date-selector'>Wednesday</label>\n<label><input type = 'checkbox' value = 'Thursday' class = 'date-selector'>Thursday</label>\n<label><input type = 'checkbox' value = 'Friday' class = 'date-selector'>Friday</label>\n<label><input type = 'checkbox' value = 'Saturday' class = 'date-selector'>Saturday</label>\n<input type = 'submit' @click='submit()'>\n\n</div>\n<Calender/>\n</div>\n</template>\n\n<script>\nimport {getAPI} from '../axios-api'\nimport Calender from '../components/Calender'\nexport default{\n    name:'Schedular',\n    data(){\n        return{\n            scheduleList:[],\n            novels:[],\n            novel:[]\n        }\n    },\n    components:{\n        Calender,\n    },\n    methods:{\n        timeConverter(time){\n            var convertedTime = parseInt(time)\n            if((convertedTime % 12) == convertedTime){\n                convertedTime = (convertedTime %= 12).toString() + ':00 AM'\n            }else{\n                convertedTime = (convertedTime %= 12).toString() + ':00 PM'\n            }\n            return convertedTime\n        },\n        selectNovel(a){\n            if(a){\n                this.novel = a\n            }else{\n                this.novel = document.getElementById(\"novel-selector\").value\n            }\n            console.log(this.novel)\n            getAPI.get('/schedule?novel='+this.novel)\n          .then(response => {\n            console.log('Schedule API has recieved data')\n            console.log(response)\n            this.scheduleList=response.data\n          })\n          .catch(err => {\n            console.log(err)\n          })\n        },\n        showCreator(){\n            document.getElementById('schedule-creator').style.display='flex'\n        },\n        submit(){\n            const time = document.getElementById('appt').value\n            console.log(time)\n            console.log(this.novel)\n            const dates = document.getElementsByClassName('date-selector')\n            var selecteddates = []\n            console.log(dates.length)\n            for(var i=0; i < dates.length; i++){\n                if(dates[i].checked==true){\n                    selecteddates.push(dates[i].value)\n                }\n            }\n            console.log(selecteddates)\n            getAPI.post('/schedule', {novel:this.novel,time:time,dates:selecteddates})\n                .then(function (response) {\n                    console.log(response);\n            })\n                .catch(function (error) {\n                    console.log(error);\n            }); \n            console.log('what')\n            document.getElementById('schedule-creator').style.display='none'\n            \n            \n        },\n    },\n    created(){\n          \n          getAPI.get('/noveltitles')\n          .then(response => {\n            console.log('Chapter API has recieved data')\n            this.novels = response.data\n            console.log(this.novels[0].novelid)\n            this.selectNovel(this.novels[0].novelid)\n          })\n          .catch(err => {\n            console.log(err)\n          })\n}\n}\n</script>\n\n<style scoped>\n.schedular{\n    width:100%\n}\n#schedule-creator{\nposition:fixed;\n    background-color:lightgray;\n    width:500px;\n    height:500px;\n    top:50%;\n    left:50%;\n    margin-top:-250px;\n    margin-left:-250px;\n    display:none;\n    flex-direction:column;\n}\n#appt{\n    background:none;\n    border:none;\n    float:right;\n    margin-right:50px;\n    height:30px;\n}\n@media (max-width: 775px) {\n    #novel-selector{\n        width:350px;\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"let stripe = Stripe(`pk_live_51L5d0fHlYhKzvWmvp72z9v2OaWS2tVyk9w4LPvRTs2H5s3txY36Y5DoChXe0aAYwAmUqCWFtHqZEE0chlURjOAgl00fZShWX43`),\n    elements = stripe.elements(),\n    card = undefined;\nexport default {\n  name: 'StripeCard',\n\n  data() {\n    return {\n      spk: \"pk_test_51L5d0fHlYhKzvWmvoTeIQZRu94xVDT6rgJC9Lp9KZxoQaTM21qa8jahwmqFTBTB4h9p6bSp2gFGdbvakV0CpMNRf00KL6sxJNJ\",\n      stripe: undefined,\n      card: undefined,\n      msg: 'Donate Here',\n      payAmount: \"$10.00\",\n      lockSubmit: false,\n      api: \"https://yourdomain.com/api/\"\n    };\n  },\n\n  mounted: function () {\n    var self = this;\n    self.stripe = Stripe(self.spk);\n    self.card = self.stripe.elements().create('card');\n    self.card.mount(self.$refs.card);\n  },\n  methods: {\n    purchase() {\n      var self = this;\n      self.lockSubmit = true;\n      self.stripe.createToken(self.cardNumber).then(function (result) {\n        if (result.error) {\n          alert(result.error.message);\n          self.$forceUpdate(); // Forcing the DOM to update so the Stripe Element can update.\n\n          self.lockSubmit = false;\n          return;\n        } else {\n          self.processTransaction(result.token.id);\n        }\n      }).catch(err => {\n        alert(\"error: \" + err.message);\n        self.lockSubmit = false;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAaA,IAAIA,MAAK,GAAIC,MAAM,CAAE,6GAAF,CAAnB;AAAA,IACIC,QAAO,GAAIF,MAAM,CAACE,QAAP,EADf;AAAA,IAEIC,IAAG,GAAIC,SAFX;AAIA,eAAe;EACXC,IAAI,EAAC,YADM;;EAEXC,IAAI,GAAE;IACF,OAAO;MACTC,GAAG,EAAC,6GADK;MAETP,MAAM,EAACI,SAFE;MAGTD,IAAI,EAACC,SAHI;MAITI,GAAG,EAAE,aAJI;MAKTC,SAAS,EAAC,QALD;MAMTC,UAAU,EAAC,KANF;MAOTC,GAAG,EAAC;IAPK,CAAP;EASH,CAZU;;EAYTC,OAAO,EAAE,YAAY;IACvB,IAAIC,IAAI,GAAC,IAAT;IACAA,IAAI,CAACb,MAAL,GAAaC,MAAM,CAACY,IAAI,CAACN,GAAN,CAAnB;IACAM,IAAI,CAACV,IAAL,GAAYU,IAAI,CAACb,MAAL,CAAYE,QAAZ,GAAuBY,MAAvB,CAA8B,MAA9B,CAAZ;IACAD,IAAI,CAACV,IAAL,CAAUY,KAAV,CAAgBF,IAAI,CAACG,KAAL,CAAWb,IAA3B;EACD,CAjBY;EAkBbc,OAAO,EAAC;IACNC,QAAQ,GAAG;MACT,IAAIL,IAAG,GAAI,IAAX;MACAA,IAAI,CAACH,UAAL,GAAgB,IAAhB;MAEAG,IAAI,CAACb,MAAL,CAAYmB,WAAZ,CAAwBN,IAAI,CAACO,UAA7B,EAAyCC,IAAzC,CAA8C,UAASC,MAAT,EAAiB;QAC7D,IAAIA,MAAM,CAACC,KAAX,EAAkB;UAChBC,KAAK,CAACF,MAAM,CAACC,KAAP,CAAaE,OAAd,CAAL;UACAZ,IAAI,CAACa,YAAL,GAFgB,CAEK;;UACrBb,IAAI,CAACH,UAAL,GAAgB,KAAhB;UACA;QACF,CALA,MAMI;UACFG,IAAI,CAACc,kBAAL,CAAwBL,MAAM,CAACM,KAAP,CAAaC,EAArC;QACF;MACD,CAVD,EAWCC,KAXD,CAWQC,GAAD,IAAS;QACdP,KAAK,CAAC,YAAUO,GAAG,CAACN,OAAf,CAAL;QACAZ,IAAI,CAACH,UAAL,GAAgB,KAAhB;MACD,CAdD;IAeD;;EApBK;AAlBK,CAAf","names":["stripe","Stripe","elements","card","undefined","name","data","spk","msg","payAmount","lockSubmit","api","mounted","self","create","mount","$refs","methods","purchase","createToken","cardNumber","then","result","error","alert","message","$forceUpdate","processTransaction","token","id","catch","err"],"sourceRoot":"","sources":["/Users/joshgoodman/Documents/GitHub/tententranslations/vuefrontend/src/components/StripeCard.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex flex-column align-items-center\">\n    <h2 class=\"text-primary\">{{msg}} {{payAmount}}</h2>\n    <form id=\"payment-form\" class=\"w-75 px-5 d-flex flex-column align-items-center\" >\n        <div ref=\"card\" class=\"form-control m-2\">\n          <!-- A Stripe Element will be inserted here. -->\n        </div>\n        <input :disabled=\"lockSubmit\" class=\"btn btn-primary shadow-sm\" type=\"submit\" value=\"Donate\" v-on:click.prevent=\"purchase\" />\n    </form>\n  </div>\n</template>\n\n<script>\nlet stripe = Stripe(`pk_live_51L5d0fHlYhKzvWmvp72z9v2OaWS2tVyk9w4LPvRTs2H5s3txY36Y5DoChXe0aAYwAmUqCWFtHqZEE0chlURjOAgl00fZShWX43`),\n    elements = stripe.elements(),\n    card = undefined;\n\nexport default {\n    name:'StripeCard',\n    data(){\n        return {\n      spk:\"pk_test_51L5d0fHlYhKzvWmvoTeIQZRu94xVDT6rgJC9Lp9KZxoQaTM21qa8jahwmqFTBTB4h9p6bSp2gFGdbvakV0CpMNRf00KL6sxJNJ\",\n      stripe:undefined,\n      card:undefined,\n      msg: 'Donate Here',\n      payAmount:\"$10.00\",\n      lockSubmit:false,\n      api:\"https://yourdomain.com/api/\"\n    }\n    },mounted: function () {\n    var self=this;\n    self.stripe= Stripe(self.spk);\n    self.card = self.stripe.elements().create('card');\n    self.card.mount(self.$refs.card);\n  },\n  methods:{\n    purchase() {\n      var self = this;\n      self.lockSubmit=true\n\n      self.stripe.createToken(self.cardNumber).then(function(result) {\n        if (result.error) {\n          alert(result.error.message)\n          self.$forceUpdate(); // Forcing the DOM to update so the Stripe Element can update.\n          self.lockSubmit=false\n          return;\n        }\n        else{ \n          self.processTransaction(result.token.id)\n        }\n      })\n      .catch((err) => {\n        alert(\"error: \"+err.message)\n        self.lockSubmit=false\n      });\n    },\n  },\n\n}\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}